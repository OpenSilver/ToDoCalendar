<UserControl x:Class="ToDoCalendarControl.MainControl"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
    xmlns:uwp="LEGACY_UNUSED"
    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
    xmlns:local="clr-namespace:ToDoCalendarControl"
    mc:Ignorable="d uwp"
    xmlns:metrostyleapps="clr-namespace:MetroStyleApps"
    FontFamily="{StaticResource PhoneFontFamilyNormal}"
    FontSize="{StaticResource PhoneFontSizeNormal}"
    Foreground="White"
    d:DesignHeight="480" d:DesignWidth="480">
    
    <UserControl.Resources>
        <local:LocalizedStrings x:Key="ToDoCalendarControl_LocalizedStrings"/>
    </UserControl.Resources>

    <metrostyleapps:DragAndDropRoot ThresholdForScrollViewerAutomaticScroll="90" HorizontalContentAlignment="Stretch" VerticalContentAlignment="Stretch">
        <Grid Background="White">
            <ScrollViewer x:Name="MainScrollViewer" Grid.Row="0" BorderThickness="0" HorizontalScrollBarVisibility="Disabled" VerticalScrollBarVisibility="Auto" uwp:ManipulationMode="Control">
                <Grid x:Name="MainContainer" uwp:ManipulationDelta="MainContainer_ManipulationDelta">
                    <StackPanel Orientation="Vertical" Background="{StaticResource PhoneChromeBrush}">
                        <Button x:Name="button" FontSize="14" Padding="20,10,20,10" Foreground="#FFCCCCCC" HorizontalAlignment="Center" VerticalAlignment="Center" BorderThickness="0" Click="ButtonLoadMoreDaysBefore_Click" Content="{Binding LocalizedResources.ButtonClickToSeeMore_Up_Text, Source={StaticResource ToDoCalendarControl_LocalizedStrings}}" Margin="5"/>
                        <StackPanel x:Name="DaysContainer" Orientation="Vertical" Background="White"/>
                        <Button FontSize="14" Padding="20,10,20,10" Foreground="#FFCCCCCC" HorizontalAlignment="Left" VerticalAlignment="Center" BorderThickness="0" Click="ButtonLoadMoreDaysAfter_Click" Content="{Binding LocalizedResources.ButtonClickToSeeMore_Down_Text, Source={StaticResource ToDoCalendarControl_LocalizedStrings}}" Margin="5"/>
                    </StackPanel>
                    <local:EventOptions x:Name="EventOptionsControl" Margin="10,0,0,0" Visibility="Collapsed" VerticalAlignment="Top" HorizontalAlignment="Left"/>
                </Grid>
            </ScrollViewer>
            <Grid x:Name="ButtonsOuterContainer" VerticalAlignment="Bottom" HorizontalAlignment="Center" Background="Transparent" Margin="0,0,0,1">
                <Image Visibility="Visible" Source="Images/main_button_background.png" Stretch="Fill" VerticalAlignment="Bottom" HorizontalAlignment="Center" Width="223" Height="165" Margin="0,0,0,-1"/>
                <metrostyleapps:DragAndDropSource x:Name="DRAGSOURCE_NewEvent" DontCollapseDuringDrag="True" HorizontalAlignment="Center" Margin="0,28,0,10" DistanceForDragOperationToBeConsideredIntentional="50" Click="DragAndDropSource_Click" DragAndDropStarted="DragAndDropSource_DragAndDropStarted" DragAndDropStopped="DragAndDropSource_DragAndDropStopped">
                    <Grid Width="80" Height="80">
                        <Ellipse Fill="{StaticResource PhoneAccentBrush}"/>
                        <TextBlock Text="+" Padding="0" Margin="-19,-22,-21,5" Foreground="White" HorizontalAlignment="Center" VerticalAlignment="Center" FontSize="96" FontWeight="Bold"/>
                    </Grid>
                </metrostyleapps:DragAndDropSource>
            </Grid>
            <Grid x:Name="ExplanationOverlay" Margin="0,-150,0,150" Visibility="Collapsed" MouseLeftButtonDown="ExplanationOverlay_MouseLeftButtonDown" Background="Transparent">
                <Grid IsHitTestVisible="False" Background="#BB000000" Margin="0,150,0,-150">
                    <Image Source="Images/arrow_for_explanation.png" Stretch="Fill" VerticalAlignment="Bottom" HorizontalAlignment="Center" Width="224" Height="512" Margin="0,0,0,-1"/>
                    <TextBlock MaxWidth="160" Margin="100,0,0,250" TextWrapping="Wrap" VerticalAlignment="Bottom" HorizontalAlignment="Center" Text="{Binding LocalizedResources.ExplanationForDragAndDrop_Text, Source={StaticResource ToDoCalendarControl_LocalizedStrings}}" />
                </Grid>
            </Grid>
            <local:NotificationControl x:Name="NotificationControl" Visibility="Collapsed"/>
        </Grid>
    </metrostyleapps:DragAndDropRoot>
</UserControl>